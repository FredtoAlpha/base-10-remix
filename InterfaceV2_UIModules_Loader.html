<script>
// ============================================
// CHARGEMENT DES MODULES UI AVANCÃ‰S
// ============================================
console.log('ðŸŽ¬ DÃ‰BUT InterfaceV2_UIModules_Loader.html');
console.log('ðŸ”„ Chargement des modules UI avancÃ©s...');

// Tooltips
<?!= include('InterfaceV2_modules/ui/Tooltips'); ?>

// Validation Report
<?!= include('InterfaceV2_modules/ui/ValidationReport'); ?>

// Alertes proactives
<?!= include('InterfaceV2_modules/ui/ProactiveAlerts'); ?>

// Filtres avancÃ©s
<?!= include('InterfaceV2_modules/ui/AdvancedFilters'); ?>

// Timeline snapshots
<?!= include('InterfaceV2_modules/ui/SnapshotTimeline'); ?>

// Graphiques avancÃ©s
<?!= include('InterfaceV2_modules/ui/AdvancedCharts'); ?>

// Preview PDF
<?!= include('InterfaceV2_modules/ui/PDFPreview'); ?>

// Tour guidÃ©
console.log('ðŸ“š Chargement de OnboardingTour...');
<?!= include('InterfaceV2_modules/ui/OnboardingTour'); ?>
console.log('âœ… OnboardingTour chargÃ© (aprÃ¨s include)');

// Ã‰tat rÃ©actif
<?!= include('InterfaceV2_modules/core/ReactiveState'); ?>

console.log('âœ… Tous les modules UI avancÃ©s chargÃ©s');

// Migration : Synchroniser l'ancien systÃ¨me avec le nouveau
try {
  const hasSeenOldTutorial = localStorage.getItem('hasSeenTutorial');
  const hasCompletedNewTutorial = localStorage.getItem('onboarding:completed');

  if (hasSeenOldTutorial === 'true' && !hasCompletedNewTutorial) {
    console.log('ðŸ”„ Migration : ancien tutoriel dÃ©tectÃ©, marquage du nouveau comme complÃ©tÃ©');
    localStorage.setItem('onboarding:completed', 'true');
    localStorage.setItem('onboarding:completedAt', new Date().toISOString());
    localStorage.removeItem('hasSeenTutorial'); // Nettoyer l'ancienne clÃ©
  }
} catch (e) {
  console.error('Erreur migration tutoriel:', e);
}

// Auto-dÃ©marrer le tour guidÃ© si premier lancement
setTimeout(() => {
  if (typeof OnboardingTour !== 'undefined') {
    OnboardingTour.autoStart();
  }
}, 2000);
</script>
